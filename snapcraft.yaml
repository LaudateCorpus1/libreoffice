name: libreoffice
version: 5.2.0.0.beta2
summary: LibreOffice is a free and open source office suite
description: LibreOffice is a free and open source office suite, developed by The Document Foundation. The LibreOffice suite comprises programs for word processing, the creation and editing of spreadsheets, slideshows, diagrams and drawings, working with databases, and composing mathematical formulae.
icon: libreoffice.png
parts:
    libreoffice-build:
        plugin: make
        source: ./libreoffice-build/
        stage-packages:
            - default-jdk
            - graphviz
            - libatk1.0-0
            - libatk1.0-dev
            - libcairo2
            - libcairo2-dev
            - libdbus-glib-1-2
            - libdbus-glib-1-dev
            - libexttextcat-dev
            - libfreetype6
            - libfreetype6-dev
            - libgconf-2-4
            - libgconf2-dev
            - libgl1-mesa-glx
            - libglib2.0-0
            - libglib2.0-dev
            - libgstreamer-plugins-base1.0-0
            - libgstreamer-plugins-base1.0-dev
            - libgstreamer1.0-0
            - libgstreamer1.0-dev
            - libgtk-3-dev
            - libgtk2.0-0
            - libgtk2.0-dev
            - libkrb5-dev
            - libldap2-dev
            - libnspr4
            - libnspr4-dev
            - libnss3
            - libnss3-dev
            - liborcus-dev
            - libpython3.5-dev
            - libwpd-dev
            - libwpg-dev
            - libwps-dev
            - libxml2
            - libxml2-dev
            - libxslt1.1
            - python3-dev
            - xorg
        snap:
            - usr/local/*
            - usr/lib/x86_64-linux-gnu/lib*
            - usr/lib/x86_64-linux-gnu/mesa/lib*
    libreoffice-wrapper:
        plugin: copy
        files:
            libreoffice.wrapper: libreoffice.wrapper
    selected-fonts:
        plugin: copy
        source: /usr/share/fonts
        stage-packages:
            - fonts-sil-gentium
            - fonts-sil-gentium-basic
            - fonts-liberation
            - ttf-dejavu-core
            - ttf-ubuntu-font-family
        snap:
            - usr/share/fonts/*
        files: # see lp#1588283
            /usr/share/fonts/truetype/gentium-basic/GenBkBasR.ttf: usr/share/fonts/truetype/gentium-basic/
    jvm:
        plugin: copy
        source: /usr/lib/jvm
        stage-packages:
            - openjdk-8-jdk
            - openjdk-8-jre
        files: # see lp#1588283
            /usr/lib/jvm/java-8-openjdk-amd64/bin/java: java
    debug:
        plugin: copy
        source: /usr/bin
        stage-packages:
            - gdb
            - strace
        files: # see lp#1588283
            /usr/bin/strace: strace

apps:
    libreoffice:
        command: libreoffice.wrapper
        plugs: [ unity7, opengl, network, home ]
